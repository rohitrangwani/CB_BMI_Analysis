%% File with common information about the BMI sessions similar to config files

% Convetion for all file read is first 2 file paths read by Matlab are .
% and .. ,so start from index 3 (usually autotask BMI session)

% Start trials for all the BMI sessions 
tstart = {[ 0,0,0,5,  72, 1],[0,0, 1, 6, 14, 5], ... %[ 0, 0, 1, 6,  13, 5],
    [ 0,0,0, 44, 31, 1, 15,35,8,46,13,11,38,1],...
    [ 0,0,34, 8,52, 46,21,103,20,26],...
    [ 0,0,57, 7, 8, 50,42,55,9,20]...
    [ 0,0,0,12, 9, 5, 11,14]...
    [ 0,0,12, 60, 35, 44,2,9,19]...
    [0,0,0,0,1,23,1,24,1,21]...
    [0,0, 0,9,56,10 86, 20,1]...
    [0,0, 20,58,60,1]...
    [0,0,0, 66, 12,39,2, 1, 29,14, 19, 45,17,8,  2, 61, 4, 50, 38,29, 5, 1, 15],...
    [0,0,0, 9, 6, 11, 4, 45,19, 11, 6, 1, 20,43, 17,23],...
    [0,0,0,44, 27, 57, 20, 4, 1,  33, 1,9,42 ],...
    [0,0,0,1, 40, 1, 1, 21, 8, 5,  21,7 ],...
    [0,0,0,10, 1, 17, 1, 1]};

tstop  = {[ 0,0,0,94, 146, 121],[0,0, 94, 106, 114, 106],... %[ 0, 0, 104, 105, 114, 105],
    [ 0,0,0, 149, 91, 100, 59,138,96,139,112,33,96,93],...
    [ 0,0,133, 68, 125, 86,103,151,262,109],...
    [ 0,0,128,123,72, 154,139,111,60,50]...
    [0,0, 0,200,120,105, 134,89]...
    [0,0, 74,83,84, 80,81,103,85]...
    [0,0,0,0,116,45,43,70,32,82]...
    [0,0, 0,109,88,82,145,101,150]...
    [0,0, 80,91,103,107]...
    [0,0, 0,109,68,61,10,50,83,127,88,101,55,80,65,117,47,159,76,90,80,35,57 ],...
    [0,0,0,85,80,93,100,82,140,55,100,38,60,120,60,82],...
    [0,0,0,62, 83, 75, 48, 61,141,113,35,69,90],...
    [0,0,0,30,85, 78,75,69,49,80,80,40],...
    [0,0,0,85,80, 57,100,46]};

%bins used for GLM
bin = [5,10,25,50,100];

% CB ploytrodes shanks number
polytrode = [4,4,2,2,4,4,2,4,4,4,4,4,4,4,4];

%all subs in order
sub = {'I096','I107','I110','I111','I112', 'I122', 'I116', 'I117', 'I127',...
    'I128','I154','I160', 'I161','I170','I172'};

stroke= [4:5,9:15];

intact = [1:15];
intact = setdiff(intact, stroke);

M1 = [1,2,6,7,8,11:15];

M1_intact = [1,2,6,7,8];
M1_stroke = [11:15];

Fs = 1.017252624511719e+03;   % LFP Fs

% Directory with BMI Data
rootpath = 'Z:\Rohit\BMI_Data\';

robust_session = {[4,5],[3,4,6],[5,7,8,9,10,13,14],[3,4,5,8,9,10],[5,6,7,9],...
    [4,6,8],[5:9],[8],[7:8],[3,5,6],[8,14,15,16,18,19],[7,9,11,14],[8,9,10,12],[5,9,10],[4,5,7]}; 

% 7 sessions ( 1 for intact and 6 for stroke) are not significant glm sessions
sig_session = {[4,5],[3,4,6],[7,9,10,13,14],[3,4,5,8,9,10],[5,7,9],...
    [4,6,8],[5:9],[8],[8],[3,6],[8,14,15,16,18],[7,9,11,14],[8,9,10,12],[5,9],[4,5,7]};

% 6 glm sessions are not significant
sig_session_1d = {[4,5],[3,4,6],[5,7,8,9,10,13,14],[3,4,5,8,9,10],[5,6,7,9],...
    [4,6,8],[5:9],[],[7:8],[3,5,6],[8,14,15,16,18],[7,9,11,14],[8,9],[9],[4,5,7]};

% Significant GLM sessions, 3 session removed
sig_session_1i = {[4,5],[3,4,6],[5,7,8,9,10,13,14],[3,4,5,8,9,10],[5,6,7,9],...
    [4,6,8],[5:9],[8],[7:8],[3,5,6],[8,14,16,18,19],[7,9,11,14],[8,9,10],[5,9],[4,5,7]}; 

% 12 session removed
                             %[7,9,10,13,14],[3,4,5,8,9,10] removed for indirect waveform (total session 7)                                                                      
% intersection = {[4,5],[3,4,6],[7,9,13,14],[5,9,10],[5,7,9],...
%     [4,6,8],[5,6,8,9], [],8,[3,6],[8,14,16,18],[7,9],[8,9],[9],[4,5,7]};
           %[5,6,7,8,9]                        [7,9,11,14]


intersection = {[4,5],[3,4,6],[7,9,10,13,14],[3,4,5,8,9,10],[5,7,9],...
    [4,6,8],[5,6,7,8,9], [],8,[3,6],[8,14,16,18],[7,9,11,14],[8,9],[9],[4,5,7]};
                                 %[8,14,16,18]

% binary flags for significant sessions
sig_session_bin = {[1,1,0,0,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,0,0,0],...
    [1,1,1,1,1,1,0,0,0,0],[1,0,1,1,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0,0],[1,1,1,1,1,0,0,0,0,0],...
    [0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0,0,0],[1,1,0,1,1,0,0,0,0,0,0],...
    [1,1,1,1,0,0,0,0,0,0],[1,1,0,0,0,0,0,0,0,0], [0,1,0,0,0,0,0,0,0,0], [1,1,1,0,0,0,0,0,0,0]};

% Purkinje direct session: I111-(4) : 3 and I160 (12) - 9

disp('BMI session info..');

%% Reference code to get session names

% clear;
% for n = 1:15
%     
%     blocks = dir( [rootpath,sub{n},'\Data\']);
%     temp = [];
%     count  =1;
%     for i= robust_session{n} 
%         temp{count} = blocks(i).name;
%         count = count +1;
%     end
%     blocks_name{n} = cell2mat(temp');
% 
% end